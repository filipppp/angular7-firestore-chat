<mat-card class="example-card">
  <mat-toolbar>
    <mat-toolbar-row>
      <button (click)="backToList()" mat-mini-fab color="primary"><mat-icon>keyboard_backspace</mat-icon></button>
      <span>Chat Name</span>
    </mat-toolbar-row>
  </mat-toolbar>
  <mat-card-content>
    <mat-list #chats>
      <h3 mat-subheader>Nachrichten</h3>
      <cdk-virtual-scroll-viewport itemSize="50" class="messageViewport">
        <mat-list-item *ngFor="let message of (chatMessages | async)" [ngClass]="{'right': message.author === 'Me'}">
          <img matListAvatar src="./assets/avatar.svg" alt="Avatar Icon">
          <h5 mat-line>{{message.content}}</h5>
        </mat-list-item>
      </cdk-virtual-scroll-viewport>
    </mat-list>

    <form id="sendInput" (ngSubmit)="sendMessage(messageInput)">
      <mat-form-field>
        <input #messageInput autocomplete="off" [formControl]="messageFormControl" matInput minlength="1" maxlength="250" placeholder="Chat Message">
        <mat-error *ngIf="messageFormControl.hasError('required')">
          Message is <strong>too short</strong>
        </mat-error>
        <mat-hint align="end">{{messageInput.value.length}} / 250</mat-hint>
      </mat-form-field>
      <button type="submit" [disabled]="!messageFormControl.valid" mat-mini-fab color="primary"><mat-icon>send</mat-icon></button>
    </form>
  </mat-card-content>

</mat-card>
